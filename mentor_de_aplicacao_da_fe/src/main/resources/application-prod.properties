# ARQUIVO: /src/main/resources/application-prod.properties
# (Seguro para o Git)

# 1. Configuração do Banco de Dados de Produção (Railway)
# O Railway injeta a variável JDBC_DATABASE_URL já no formato JDBC correto.
spring.datasource.url=${JDBC_DATABASE_URL}
# O Spring Boot é inteligente o suficiente para extrair usuário/senha da URL.
# Adicionamos um fallback para as variáveis PGUSER/PGPASSWORD caso a URL não as inclua.
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}

# 2. Configuração do Schema do Banco
# 'validate' é mais seguro em produção. 'update' pode ser usado no primeiro deploy.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# 3. Email de Produção (lendo das variáveis de ambiente do Railway)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USER_PROD}
spring.mail.password=${MAIL_PASS_PROD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# 4. Chaves de API de Produção (lendo das variáveis de ambiente do Railway)
gemini.api.key=${GEMINI_API_KEY_PROD}
mercadopago.access.token=${MP_ACCESS_TOKEN_PROD}

# 5. URL de Produção (lendo das variáveis de ambiente do Railway)
# Isso permite que você defina seu domínio (www.sementeguia.com.br) no painel do Railway.
app.base.url=${APP_BASE_URL}
server.port=${PORT}